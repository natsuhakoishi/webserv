<!DOCTYPE html>
<html>
<body>
  <h1>Upload File now!</h1>
  <img src="../img/knife.png">
  <form method="post" enctype="application/octet-stream">
    <input type="file" id="file" />
    <button type="submit">Upload</button>
  </form>
<div id="result"></div>

  <script>
    document.querySelector("form").addEventListener("submit", async (e) => {
      e.preventDefault();
      const file = document.querySelector("#file").files[0];
      if (!file) return alert("No file chosen");

      const response = await fetch("/cgi/uploadByPathInfo.py/uploadByCGI/uploadPATH/" + file.name, {
        method: "POST",
        headers: {
          "Content-Type": "application/octet-stream"
        },
        body: file
      });

      const html = await response.text();
      document.getElementById("result").innerHTML = html;
    });
  </script>
</body>
</html>
